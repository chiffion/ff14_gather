<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FF14 å…¨ç‰ˆæœ¬æ¡é›†çµ‚æ¥µåŠ©æ‰‹</title>
    <style>
        :root {
            --bot: #78a55a; --min: #d4a017; --fish: #3498db; --bg: #121212; 
            --card: #1e1e1e; --active: #ff4757; --text: #e0e0e0; --fashion: #e84393;
        }
        body { font-family: -apple-system, "Microsoft JhengHei", sans-serif; background: var(--bg); color: var(--text); margin: 0; padding-bottom: 50px; }
        .header { position: sticky; top: 0; background: #000; padding: 12px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid var(--active); z-index: 1000; }
        #lt-display { font-weight: bold; color: #74b9ff; font-size: 1.2rem; display: block; }
        #et-display { color: #f1c40f; font-size: 0.9rem; }
        .container { padding: 10px; max-width: 650px; margin: auto; }
        .group-title { font-size: 0.85rem; color: #888; margin: 15px 0 8px; display: flex; align-items: center; }
        .group-title::after { content: ""; flex: 1; height: 1px; background: #333; margin-left: 10px; }
        .card { background: var(--card); border-radius: 10px; padding: 12px; margin-bottom: 12px; border-left: 6px solid #444; position: relative; transition: 0.3s; }
        .card.active { border-left-color: var(--active) !important; background: #2d1b1b; transform: scale(1.02); }
        .card.bot { border-left-color: var(--bot); }
        .card.min { border-left-color: var(--min); }
        .card.fsh { border-left-color: var(--fish); }
        .v-badge { position: absolute; right: 10px; top: 10px; font-size: 10px; background: #444; padding: 2px 6px; border-radius: 4px; color: #fff; }
        .item-name { font-size: 1.1rem; font-weight: bold; color: #fff; margin-bottom: 5px; display: block; padding-right: 50px; }
        .stats-row { display: flex; flex-wrap: wrap; gap: 8px; margin: 5px 0; padding: 6px; background: rgba(0,0,0,0.4); border-radius: 4px; font-size: 0.85rem; }
        .stat-val { color: #f1c40f; font-weight: bold; }
        .reward-tag { color: var(--fashion); font-weight: bold; font-size: 0.9rem; margin-bottom: 5px; display: block; }
        .use-tag { font-size: 0.75rem; color: #aaa; font-style: italic; margin-top: 4px; display: block; }
        .time-hint { color: #74b9ff; font-weight: bold; margin-top: 10px; }
    </style>
</head>
<body>

<div class="header">
    <div style="font-weight: bold;">FF14 æ¡é›†çµ‚æ¥µåŠ©æ‰‹ (V.All)</div>
    <div style="text-align: right;">
        <span id="lt-display">LT --:--:--</span>
        <span id="et-display">ET --:--</span>
    </div>
</div>

<div class="container">
    <div class="group-title">ğŸ•’ æ­£åœ¨é–‹æ”¾ / ä¸‹ä¸€å€‹é å®š (è‡ªå‹•æ’åº)</div>
    <div id="radar-list">
        
        <div class="card min" data-et="0" data-ver="7.0" data-name="é»‘æ˜ŸçŸ³ (æ”¶è—å“)" data-map="å¥§é«˜æ½˜æŸ¥" data-lv="100" data-g="4200" data-p="4000" data-slot="2" data-use="æ©™ç¥¨å…Œæ›"></div>
        <div class="card bot" data-et="2" data-ver="7.0" data-name="é˜¿å¡å¤åŸæœ¨ (æ”¶è—å“)" data-map="èµ«åˆ©ç¾…åŠ " data-lv="100" data-g="4200" data-p="4000" data-slot="6" data-use="æ©™ç¥¨å…Œæ›"></div>
        <div class="card min" data-et="2" data-ver="7.0" data-name="æ°§åŒ–é‹çµæ™¶ (å‚³èªª)" data-map="éºç”¢ä¹‹åœ°" data-lv="100" data-g="4500" data-p="4200" data-slot="3" data-use="7.0é«˜é›£è£½ä½œ"></div>
        <div class="card min" data-et="6" data-ver="7.0" data-name="é›·å…¬çŸ³ (å‚³èªª)" data-map="éºç”¢ä¹‹åœ°" data-lv="100" data-g="4500" data-p="4200" data-slot="4" data-use="7.0é«˜é›£è£½ä½œ"></div>
        <div class="card bot" data-et="8" data-ver="7.0" data-name="é®®é¾è¡€æ¨¹æ¨¹è„‚ (å‚³èªª)" data-map="èµ«åˆ©ç¾…åŠ " data-lv="100" data-g="4500" data-p="4200" data-slot="4" data-use="7.0é«˜é›£è£½ä½œ"></div>

        <div class="card min" data-et="10" data-ver="6.0" data-name="ç›§æ©é‡‘ç¤¦ (å‚³èªª)" data-map="å˜†æ¯æµ·" data-lv="90" data-g="3600" data-p="3600" data-slot="3" data-use="6.0é«˜é›£è£½ä½œ"></div>
        <div class="card bot" data-et="6" data-ver="6.0" data-name="æœˆè¦‹è‰ (å‚³èªª)" data-map="å˜†æ¯æµ·" data-lv="90" data-g="3600" data-p="3600" data-slot="2" data-use="6.0é«˜é›£è£½ä½œ"></div>
        <div class="card bot" data-et="8" data-ver="6.0" data-name="è®Šç•°æœ¨æ£‰ (å‚³èªª)" data-map="è–©ç¶­å¥ˆå³¶" data-lv="90" data-g="3600" data-p="3600" data-slot="4" data-use="6.0é«˜é›£è£½ä½œ"></div>

        <div class="card min" data-et="0" data-ver="5.0" data-name="é—‡éŠ€ç¤¦ (å‚³èªª)" data-map="é»‘é¢¨æµ·" data-lv="80" data-g="2000" data-p="2000" data-slot="1" data-use="5.0é«˜é›£è£½ä½œ"></div>
        <div class="card bot" data-et="2" data-ver="5.0" data-name="æª€é¦™æœ¨åŸæœ¨ (å‚³èªª)" data-map="æ‹‰å‡±æå¡" data-lv="80" data-g="2000" data-p="2000" data-slot="6" data-use="5.0é«˜é›£è£½ä½œ"></div>
        <div class="card min" data-et="2" data-ver="5.0" data-name="é¢éµç¤¦ (å‚³èªª)" data-map="ç‚éœ²è¥¿äºå³¶" data-lv="80" data-g="2000" data-p="2000" data-slot="3" data-use="5.0é«˜é›£è£½ä½œ"></div>

        <div class="card min" data-et="4" data-ver="4.0" data-name="é‡‘ç¤¦ (é‡è¦)" data-map="å»¶å¤" data-lv="70" data-g="1200" data-p="1200" data-slot="6" data-use="å„ç‰ˆæœ¬é«˜ç´šåˆé‡‘"></div>
        <div class="card min" data-et="18" data-ver="4.0" data-name="çœŸé¾æ™¶çŸ³" data-map="åŸºæ‹‰å·´å°¼äºæ¹–å€" data-lv="70" data-g="1200" data-p="1200" data-slot="7" data-use="å„ç‰ˆæœ¬é«˜ç´šé¦–é£¾"></div>

        <div class="card min" data-et="12" data-ver="3.0" data-name="çš‡é‡‘ç¤¦" data-map="é˜¿å·´æ‹‰æäºé›²æµ·" data-lv="60" data-g="800" data-p="800" data-slot="6" data-use="3.0é«˜é›£è£½ä½œ"></div>
        <div class="card bot" data-et="22" data-ver="3.0" data-name="å¤§é¾è†½" data-map="é¾å ¡å…§é™¸ä½åœ°" data-lv="60" data-g="800" data-p="800" data-slot="1" data-use="3.0ç…‰é‡‘ææ–™"></div>

        <div class="card min" data-et="1" data-ver="2.0" data-name="é—‡ç‰©è³ª (ç²¾éŠç”¨)" data-map="ä¸­è–©ç´è˜­" data-lv="50" data-g="400" data-p="400" data-slot="1" data-use="æ—©æœŸç”Ÿç”¢å¿…å‚™"></div>
        <div class="card bot" data-et="13" data-ver="2.0" data-name="é»‘æ¾éœ²" data-map="æ±éƒ¨æ£®æ—" data-lv="50" data-g="400" data-p="400" data-slot="7" data-use="çƒ¹é£ªå¿…å‚™"></div>
        <div class="card fsh" data-et="9" data-dur="6" data-ver="2.0" data-name="å·¨å¤§ç« é­š" data-map="æ±æ‹‰è«¾è¥¿äº" data-lv="50" data-bait="ç£·è¦æµ·èŸ²" data-fashion="å—æ´‹é¢¨è‰å¸½ / æ³³è£"></div>
        <div class="card fsh" data-et="6" data-dur="5" data-ver="2.0" data-name="å¥§åœŸä¿®æ–¯" data-map="è¥¿æ‹‰è«¾è¥¿äº" data-lv="50" data-bait="æµ®æ¸¸èŸ² > æ¢­å­é­š(å°é‡£å¤§)" data-fashion="æµ·é‚Šç”·å¼æ³³è¤²"></div>
        <div class="card fsh" data-et="17" data-dur="3" data-ver="2.0" data-name="å‡±é¾" data-map="æ±æ‹‰è«¾è¥¿äº" data-lv="50" data-bait="é‡å‹é‹¼éµèª˜é¤Œ" data-fashion="å—æ´‹é¢¨å¥³å¼èƒŒå¿ƒ"></div>
        <div class="card fsh" data-et="16" data-dur="5" data-ver="2.0" data-name="å·¨å‹æ·¡æ°´åŠé­š" data-map="ä¸­è–©ç´è˜­" data-lv="50" data-bait="è¥¿æ‹‰å¾—å°é­š(å°é‡£å¤§)" data-fashion="å—æ´‹é¢¨ç”·å¼èƒŒå¿ƒ"></div>
        <div class="card fsh" data-et="10" data-dur="4" data-ver="2.0" data-name="å·¨å‹è®Šè‰²é¾" data-map="åº«çˆ¾æœ­æ–¯ä¸­å¤®" data-lv="50" data-bait="é›²æµ·é’è›™" data-fashion="è€ç†±è£å‚™å‚™ç”¨åˆ¸"></div>

    </div>
</div>

<script>
    const EORZEA_RATIO = 144 / 7;
    function update() {
        const now = new Date();
        document.getElementById('lt-display').textContent = "LT " + now.toLocaleTimeString('zh-TW', {hour12: false});
        const etSeconds = Math.floor(now.getTime() * EORZEA_RATIO / 1000);
        const etMinute = Math.floor((etSeconds / 60) % 60);
        const etHour = Math.floor((etSeconds / 3600) % 24);
        document.getElementById('et-display').textContent = `ET ${String(etHour).padStart(2, '0')}:${String(etMinute).padStart(2, '0')}`;

        const cards = Array.from(document.querySelectorAll('.card'));
        const radarList = document.getElementById('radar-list');
        let sorted = [];

        cards.forEach((card) => {
            const start = parseInt(card.dataset.et);
            const dur = card.dataset.dur ? parseInt(card.dataset.dur) : 2;
            const end = (start + dur) % 24;
            let diffEt = start - etHour;
            if (diffEt < 0) diffEt += 24;
            const remainLt = Math.floor(((diffEt * 60) - etMinute) / EORZEA_RATIO);
            const nextLt = new Date(now.getTime() + remainLt * 60000);
            let isActive = (start < end) ? (etHour >= start && etHour < end) : (etHour >= start || etHour < end);
            
            card.classList.toggle('active', isActive);
            const typeLabel = card.classList.contains('fsh') ? 'ğŸ£' : (card.classList.contains('min') ? 'â›ï¸' : 'ğŸŒ¿');
            
            card.innerHTML = `
                <span class="v-badge">Ver ${card.dataset.ver}</span>
                ${card.dataset.fashion ? `<span class="reward-tag">âœ¨ åˆ†è§£ï¼š${card.dataset.fashion}</span>` : ''}
                <span class="item-name">${typeLabel} ${card.dataset.name} <small>(Lv ${card.dataset.lv})</small></span>
                <div class="stats-row">
                    ${card.dataset.bait ? `<span>é¤Œæ–™: <span class="stat-val">${card.dataset.bait}</span></span>` 
                    : `<span>ç²å¾—åŠ›: <span class="stat-val">${card.dataset.g}</span></span> <span>è§€å¯ŸåŠ›: <span class="stat-val">${card.dataset.p}</span></span>`}
                    <span>ğŸ“ ${card.dataset.map}</span>
                </div>
                ${card.dataset.use ? `<span class="use-tag">ç”¨é€”ï¼š${card.dataset.use}</span>` : ''}
                <div class="time-hint">${isActive ? 'ğŸ”¥ æ­£åœ¨é–‹æ”¾ä¸­ï¼' : 'ğŸ•’ é è¨ˆ LT ' + nextLt.getHours().toString().padStart(2,'0') + ':' + nextLt.getMinutes().toString().padStart(2,'0')}</div>
            `;
            sorted.push({ el: card, active: isActive, remain: remainLt });
        });

        sorted.sort((a, b) => a.active === b.active ? a.remain - b.remain : (a.active ? -1 : 1));
        sorted.forEach(item => radarList.appendChild(item.el));
    }
    setInterval(update, 2000);
    update();
</script>
</body>
</html>